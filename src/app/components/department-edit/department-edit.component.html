<div class="container mt-4">

  <h3>Buscar Departamento a editar</h3>

  <form (ngSubmit)="searchDepartment()" class="mb-4">
    <div class="row g-3 align-items-end">

      <div class="col-auto">
        <label for="propertyName" class="form-label">Propiedad</label>
        <input type="text" id="propertyName" [(ngModel)]="propertyName" name="propertyName" required class="form-control" />
      </div>

      <div class="col-auto">
        <label for="floor" class="form-label">Piso</label>
        <input type="number" id="floor" [(ngModel)]="floor" name="floor" required class="form-control" />
      </div>

      <div class="col-auto">
        <label for="letter" class="form-label">Letra</label>
        <input type="text" id="letter" [(ngModel)]="letter" name="letter" maxlength="1" required class="form-control" />
      </div>

      <div class="col-auto">
        <button type="submit" class="btn btn-primary">Buscar</button>
      </div>

    </div>
  </form>

  <!-- Formulario para editar el departamento, solo aparece si updatedDepartment NO es null -->
  <form *ngIf="updatedDepartment" (ngSubmit)="editDepartment()" class="mt-4 card p-3 shadow bg-light">

    <h4 class="mb-3">Editar datos del Departamento</h4>

    <div class="mb-3">
      <label for="newFloor" class="form-label">Nuevo Piso</label>
      <input
        type="number"
        id="newFloor"
        [(ngModel)]="departmentToEdit.floor"
        name="floor"
        class="form-control"
      />
    </div>

    <div class="mb-3">
      <label for="newLetter" class="form-label">Nueva Letra</label>
      <input
        type="text"
        id="newLetter"
        [(ngModel)]="departmentToEdit.letter"
        name="letter"
        maxlength="1"
        class="form-control"
      />
    </div>

    <div class="mb-3">
      <label for="idProperty" class="form-label">ID de nueva propiedad</label>
      <input
        type="number"
        id="idProperty"
        [(ngModel)]="departmentToEdit.idProperty"
        name="idProperty"
        class="form-control"
      />
    </div>

    <div class="mb-3">
      <label for="idTenant" class="form-label">ID de inquilino</label>
      <input
        type="number"
        id="idTenant"
        [(ngModel)]="departmentToEdit.idTenant"
        name="idTenant"
        class="form-control"
      />
    </div>

    <button type="submit" class="btn btn-success">Guardar cambios</button>

  </form>

  <div *ngIf="message" class="alert alert-info mt-3">
    {{ message }}
  </div>

  <button class="btn btn-secondary mt-3" [routerLink]="['/departamentos']">Volver</button>
</div>